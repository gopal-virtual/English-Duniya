<style>
.profile {
position: absolute;
right: 3vw;
top: 3vw;
z-index: 100;
}
.profile-avatar {
width: 12vh;
height: 12vh;
background-color: #F9E9D0;
border-radius: 50%;
border: 0.6vh solid #FAF5EB;
box-shadow: 0 0 8px rgba(0,0,0,0.6);
}
.profile-star{
position: absolute;
z-index: 300;
top: 3vw;
left: 3vw;
}
.star-count {
background-color: #F9E7CD;
height: 8vh;
line-height: 8vh;
padding-left: 7vh;
padding-right: 4vh;
border-radius: 0 4.5vh 4.5vh 0;
border: 0.6vh solid #FAF5EB;
color: #FDB725;
font-weight: bold;
font-size: 2em;
text-shadow: 0 1px 2px white;
left: 6vh;
top: 2vh;
box-shadow: 0 0 8px rgba(0,0,0,0.5);
}
img.profile-star-icon-offset{
height : 12vh;
-webkit-filter: drop-shadow(0px 0px 5px rgba(0,0,0,0.5));
}
img.profile-star-icon {
height: 11vh;
top: 0.5vh;
left: 0.5vh;
}
.profile-star-icon-offset, .profile-star-icon, .star-count{
position : absolute;
}
/*.profile.activated,.profile.active{
-webkit-animation-name: repeat-bounce;
-webkit-animation-duration: 500ms;
animation-iteration-count: 3;
animation-timing-function: ease-in-out;
-webkit-transform-origin: 50% 50%;
}*/
.symbol{
height: 4vh;
width: 4vh;
background: #CD202F;
border-radius: 2vh;
/*content: 'i';*/
font-size: 4vh;
color: #fff;
text-align: center;
line-height: 4.6vh;
position: absolute;
bottom: 0;
}


div.challenge{
    position: absolute;
    z-index: 300;
    width: 16vh;
    height: 16vh;
    background-color: #CB202E;
    border: 0.6vh solid #FAF5EB;
    border-radius: 50%;
    box-shadow: 0 0 8px rgba(0,0,0,0.6);
    top: 25vh;
    left: 5.5vh;
}
div.challenge > div.avatar{
    position: absolute;
    left: 1vh;
    top: -8vh;
    height: 17vh;
}
div.challenge > div.avatar > img{
    height: 100%;
}
div.challenge > div.header {
    width: 140%;
    height: 6vh;
    background-color: #1D80C3;
    border-radius: 3vh;
    border: 0.6vh solid #459DCC;
    box-shadow: 0 0 8px rgba(0,0,0,0.6);
    color: white;
    text-align: center;
    line-height: 6vh;
    font-size: 4vh;
    margin-top: 7vh;
    margin-left: -20%;
}
div.challenge > div.meta {
    width: 100%;
    height: 4vh;
    background-color: #459DCC;
    border-radius: 2.5vh;
    color: white;
    text-align: center;
    line-height: 4.5vh;
    font-size: 2.5vh;
    box-shadow: 0 0 8px rgba(0,0,0,0.6);
    
}
</style>
<div class="profile-star" ng-class="::{'animation-fade-in-from-top animation-delay-more' : mapCtrl.demo.getStep() != 1}" ng-hide="::mapCtrl.demo.getStep() == 1">
    <!-- <div class="profile-star" ng-hide="::mapCtrl.demo.getStep() == 1"> -->
    <img class="profile-star-icon-offset" src="img/assets_svg/icon-star-offset.svg">
    <div class="star-count">{{::mapCtrl.totalStars}}</div>
    <img class="profile-star-icon" src="img/assets_svg/icon-star.svg">
</div>
<div style="
    z-index: 300;
    margin-top: 4vh;
    position: absolute;
    margin-left: 40vw;
    ">
    
    <!-- <button ng-click="mapCtrl.syncPointsQueue2()" class="button">Sync2</button> -->
    <!-- <button ng-click="mapCtrl.pushPointsQueue()" class="button">Push</button> -->
    <!-- <a href="intent:#Intent;action=android.intent.action.SEND;type=text/plain;S.android.intent.extra.TEXT=https%3A%2F%2Fpaul.kinlan.me%2F;S.android.intent.extra.SUBJECT=Amazing;S.browser_fallback_url=https:%3A%2F%2Ftwitter.com%2Fintent%2Ftweet;end">Share</a> -->
 </div>
<div ng-if="::mapCtrl.demo.getStep() >= 2 && mapCtrl.isUserEligibleForChallenge && mapCtrl.isChallengeActive && mapCtrl.isChallengeActive" class="challenge animation-fade-in-from-top animation-delay-more" ng-click="mapCtrl.goToChallenge()">
    <div class="avatar">
        <img  ng-src="img/assets_svg/scholar-{{::mapCtrl.gender == 'M' ? 'boy' : 'girl'}}.svg"  alt="">
    </div>
    <div class="header">Challenge </div>
    <div class="meta" ng-if="::mapCtrl.daysRemaining">{{mapCtrl.daysRemaining}} days to go</div>
    <div class="meta" ng-if="::!mapCtrl.hasJoinedChallenge && mapCtrl.daysRemaining <= 0">Tap to join</div>
    <div class="meta" ng-if="::mapCtrl.hasJoinedChallenge && mapCtrl.daysRemaining <= 0">Tap to play</div>
</div>
<div ng-tap="mapCtrl.goToChooseProfile();audio.play('click');" ng-click="mapCtrl.goToChooseProfile();audio.play('click');"  class="profile" ng-hide="::mapCtrl.demo.getStep() == 1"  ng-class="::{'animation-fade-in-from-top animation-delay-more' : mapCtrl.demo.getStep() != 1}">
    <img class="profile-avatar" ng-src="img/assets_svg/profile-{{::mapCtrl.gender == 'M' ? 'boy' : 'girl'}}.svg">
    <div ng-if="notifyPhone == 1 && phone.number == '' && userDetails && isOnline" class="symbol animation-repeat-bounce">i</div>
</div>
<!-- <div style="top: 100px; left: 100px; position: absolute;z-index: 100;" ng-click="mapCtrl.onBackButtonPress()">
    <h1>BACK BUTTON SIMULATOR</h1>
</div> -->
<div class="result-backdrop modal-dark" ng-show="::mapCtrl.backdrop" ng-click="mapCtrl.backdrop=false;mapCtrl.showScore=-1"></div>
<ion-view>
<ion-content>
<div ng-if="::mapCtrl.lessons" map-canvas map-lessons="mapCtrl.lessons" map-totalstars="mapCtrl.totalStars" media-sync="mediaSyncStatus" width="mapCtrl.width" height="mapCtrl.height" map-demo="mapCtrl.demo">
</div>
</ion-content>
</ion-view>
