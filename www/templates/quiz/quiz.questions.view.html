<ion-pane class="bg-green">
  <div class="bar bar-header bg-pale">
    <a ng-click="quizCtrl.endQuiz()" class="button button-clear button-icon icon ion-android-close"></a>
    <!--<div class="h1 title color-stable">Q {{quizCtrl.getCurrentIndex()+1}} / {{quizCtrl.quiz.objects.length}}</div>-->
    <a class="button button-clear button-icon icon ion-android-hand"></a>
  </div>
  <ion-slide-box on-slide-changed="quizCtrl.slideHasChanged($index)">
    <ion-slide ng-repeat="question in quizCtrl.quiz.objects" ng-class="{'animation-question-slide':quizCtrl.isCurrentIndex($index)}">
      <div class="bar bar-subheader question-subheader bg-pale">

      <div class="card card-transparent center" ng-click="quizCtrl.playAudio(question.node.type.content.audio)">
        <p>
          <a ng-click="quizCtrl.endQuiz()" class="button button-clear button-icon icon ion-android-close"></a>

          <strong ng-if="question.node.title">{{question.node.title}}</strong>
        </p>
        <div ng-if="question.node.type.content.image"><img class="question-image" ng-src="{{question.node.type.content.image}}"></div>
        <div ng-if="!question.node.title && !question.node.type.content.image"><img height="100" width="100" src="img/icons/sound.png"> </div>
      </div>
      </div>
      <ion-content class="has-header has-question-subheader has-quiz-subfooter padding-20 center">
      <!-- SCQ -->
      <div ng-click="question.attempted=question.attempted==option.key?'':option.key" ng-if="question.node.type.type=='choicequestion' && !question.node.type.content.is_multiple" ng-class="{'selected':option.key==question.attempted,'card-list':quizCtrl.LIST_TYPE.indexOf(question.node.type.content.layout_type) >= 0,'card-grid':quizCtrl.GRID_TYPE.indexOf(question.node.type.content.layout_type) >= 0}" class="card center card-pale card-radius" ng-repeat="option in question.node.type.content.choices">
        <label ng-click="quizCtrl.playAudio(option.audio)" >
          <input class="hide" >
          <div class="padding-10 font-md" ng-if="option.option">{{option.option}}</div>
          <div class="padding-10" ng-if="option.image"><img ng-src="{{option.image}}" class="option-image"></div>
          <div class="padding-10" ng-if="!option.option && !option.image">
            <img  height="100" width="100" src="img/icons/sound.png" >
          </div>
        </label>
      </div>
       <!-- MCQ options -->
        <div ng-if="question.node.type.type=='choicequestion' && question.node.type.content.is_multiple" ng-class="{'selected':question.attempted[option.key],'card-list':quizCtrl.LIST_TYPE.indexOf(question.node.type.content.layout_type) >= 0,'card-grid':quizCtrl.GRID_TYPE.indexOf(question.node.type.content.layout_type) >= 0}" class="card center card-pale card-radius" ng-repeat="option in question.node.type.content.choices">
          <label ng-click="quizCtrl.playAudio(option.audio)" >
            <input class="hide" type="checkbox" ng-model="question.attempted[$index+1]" ng-value="option.key" >
            <div class="padding-10 font-md" ng-if="option.option">{{option.option}}</div>
            <div class="padding-10" ng-if="option.image"><img ng-src="{{option.image}}" class="option-image"></div>
            <div class="padding-10" ng-if="!option.option && !option.image"><img height="100" width="100" src="img/icons/sound.png"> </div>
          </label>
        </div>
      <!--<label ng-if="question.node.type.type=='choicequestion' && question.node.type.content.is_multiple" ng-repeat="option in question.info.question_type.choices" class="list card padding block" >-->
        <!--<input class="hide" type="checkbox" ng-model="question.attempted[$index+1]" ng-value="option.key" ng-disabled="quizCtrl.isCorrectAttempted(question)">-->
        <!--<div ng-if="option.option">{{option.option}}</div>-->
        <!--<div ng-if="option.image.key"><img ng-src="{{'img/quiz/1.jpg'}}"></div>-->
        <!--<div ng-if="!option.option && !option.image.key"><img height="100" width="100" ng-src="img/speaker.png"> </div>-->
      <!--</label>-->
      <div class="card card-transparent padding-y-30"></div>
    </ion-content>

    </ion-slide>
    </ion-slide-box>
    <audio id="audioplayer">
      <source id="audioSource" type="audio/mpeg">
    </audio>
  <div class="bar bar-subfooter quiz-subfooter bg-transparent">
    <div class="row">
      <div class="col padding-x-20">
        <button ng-if="quizCtrl.currentIndex == quizCtrl.quiz.objects.length - 1" class="button button-block bg-brand-yellow padding-10" ng-click="quizCtrl.submitQuiz()">
        SUBMIT
        </button>
      </div>
    </div>
  </div>

  <div class="bar bar-footer progress-bar-footer bg-neutral-dark">
    <div class="row progress-bar">
      <div ng-click="quizCtrl.slideTo($index)" class="col" ng-repeat="question in quizCtrl.quiz.objects" ng-class="{'attempted': quizCtrl.isAttempted(question.node.id),'skipped' : question.isVisited == true && !quizCtrl.isAttempted(question.node.id) && quizCtrl.getCurrentIndex() != $index,'current' :  quizCtrl.getCurrentIndex() == $index, 'unattempted' : question.isVisited == false}">
      </div>
    </div>
  </div>
  <!--<div class="bar bar-footer bar-footer-large bg-green">-->
    <!--<div class="row">-->
      <!--<div class="col">-->

      <!--</div>-->
      <!--</div>-->
    <!--<div class="row">-->
      <!--<div class="col">-->
        <!--a-->
      <!--</div>-->
    <!--</div>-->

  <!--</div>-->


</ion-pane>
